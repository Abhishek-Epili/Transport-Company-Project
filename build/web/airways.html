<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/Html.html to edit this template
-->
<html>
    <head>
        <title>Morning Star Transports</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="styling.css">
        <script>
            function calculate(){
                var source = Number(document.getElementById("source").value);
                var end = Number(document.getElementById("destination").value);
                var diff = end - source;
                var price=0;
                if(diff==0){
                    return;
                }
                if(diff<0){
                    diff=diff*-1;
                }
                if(diff<=2){
                    price=2500;
                }
                else if(diff>2 && diff<=4){
                    price=4000;
                }
                else if(diff>4 && diff<=6){
                    price=5000;
                }
                else{
                    price=6000;
                }
                
                var person = Number(document.getElementById("person").value);
                if(person!=null){
                    if(person<0){
                        return;
                    }
                    else if(person<=2){    
                    }
                    else if(person>2 && person<=5){
                        person--;
                    }
                    else{
                        person-=2;
                    }
                    price=price*person;
                }
                
                var class_type = document.querySelector('input[name="class"]:checked');   
                if(class_type!=null){
                    if(class_type.value=="Business"){
                        price= price* 1.5;
                    }
                    else if(class_type.value=="First"){
                        price=price*2;
                    }
                    else{
                        price=price*1;
                    }
                }
                document.getElementById("price").innerHTML=price+"rs";
                document.getElementById("hidden_price").value=price+"rs";
                var s = document.getElementById("source");
                var s2= s.options[s.selectedIndex].text;
                document.getElementById("hidden_source").value=s2;
                var e = document.getElementById("destination");
                var e2= e.options[e.selectedIndex].text;
                document.getElementById("hidden_end").value=e2;
            }
        </script>
        <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="navbar.js"></script>
    </head>
    <body style="background-image: url('air_page.png');">
    <div id="nav-placeholder"></div>
    <div class="content">
        <h1>Airway Ticket-Booking</h1>
        <form action="airway_operations">
            <input type="hidden" value="Page4" name="page">
            <input type="hidden" name="hidden_source" id="hidden_source">
            <input type="hidden" name="hidden_end" id="hidden_end">
            <input type="hidden" name="hidden_price" id="hidden_price">
            <table>
                <tr>
                    <td>Select Source</td>
                    <td>
                        <select id="source" name="source" onchange="calculate()">
                            <option value="1">Delhi</option>
                            <option value="2">Lucknow</option>
                            <option value="3">Ahmedabad</option>
                            <option value="4">Kolkata</option>
                            <option value="5">Chandigarh</option>
                            <option value="6">Mumbai</option>
                            <option value="7">Banglore</option>
                            <option value="8">Chennai</option>
                        </select> 
                    </td>
                </tr>
                <tr>
                    <td>Select Destination</td>
                    <td>
                        <select id="destination" name="destination" onchange="calculate()">
                            <option value="1">Delhi</option>
                            <option value="2">Lucknow</option>
                            <option value="3">Ahmedabad</option>
                            <option value="4">Kolkata</option>
                            <option value="5">Chandigarh</option>
                            <option value="6">Mumbai</option>
                            <option value="7">Banglore</option>
                            <option value="8">Chennai</option>
                        </select> 
                    </td>
                </tr>
                <tr>
                    <td>
                        Enter No.of Person
                    </td>
                    <td>
                        <input type="number" 
                               onchange="calculate()" 
                               onkeypress = "this.onchange();"
                               onpaste    = "this.onchange();"
                               oninput    = "this.onchange();" 
                               id="person" 
                               name="person"
                               required>
                    </td>
                </tr>
                <tr>
                    <td>
                        Select Class
                    </td>
                    <td>
                        <input type="radio" name="class" id="Economy" onchange="calculate()" value="Economy" checked>
                        Economy
                        <input type="radio" name="class" id="Business" onchange="calculate()" value="Business">
                        Business
                        <input type="radio" name="class" id="First" onchange="calculate()" value="First">
                        First Class
                    </td>
                </tr>
                <tr>
                    <td>Select Date</td>
                    <td><input type="date" name="date" id="date" required></td>
                </tr>
                <tr>
                    <td>
                        Total price of ticket
                    </td>
                    <td>
                        <div id="price" style="font-weight: bold;"></div>
                    </td>
                </tr>
                <tr>
                    <td><br></td>
                </tr>
                <tr>
                    <td></td>
                    <td><input type="submit" value="Search flights"></td>
                </tr>
            </table>
        </form>
    </div>
    </body>
</html>
